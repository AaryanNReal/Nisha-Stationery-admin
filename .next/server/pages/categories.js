(()=>{var e={};e.id=161,e.ids=[161,888,660],e.modules={1864:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>g,routeModule:()=>N,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var a=s(7093),n=s(5244),l=s(1323),i=s(5949),o=s(3414),c=s(3484),d=e([c]);c=(d.then?(await d)():d)[0];let u=(0,l.l)(c,"default"),h=(0,l.l)(c,"getStaticProps"),x=(0,l.l)(c,"getStaticPaths"),m=(0,l.l)(c,"getServerSideProps"),p=(0,l.l)(c,"config"),g=(0,l.l)(c,"reportWebVitals"),v=(0,l.l)(c,"unstable_getStaticProps"),j=(0,l.l)(c,"unstable_getStaticPaths"),f=(0,l.l)(c,"unstable_getStaticParams"),w=(0,l.l)(c,"unstable_getServerProps"),b=(0,l.l)(c,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/categories",pathname:"/categories",bundlePath:"",filename:""},components:{App:o.default,Document:i.default},userland:c});r()}catch(e){r(e)}})},1202:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(997),a=s(1649),n=s(1664),l=s.n(n),i=s(1163);function o(){return(0,r.jsxs)(l(),{href:"/",className:"flex gap-1 p-1 ",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488   7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963   0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15   9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),r.jsx("span",{className:"",children:"Admin"})]})}function c({show:e}){let t="flex gap-4 items-center p-2 rounded-lg text-gray-600 hover:bg-gray-200 hover:text-black transition-all duration-200 ease-in-out transition-colors",s=t+" bg-highlight text-black",n="w-6 h-6 text-gray-500",c=n+" text-primary",d=(0,i.useRouter)(),{pathname:u}=d;async function h(){await d.push("/"),await (0,a.signOut)()}return(0,r.jsxs)("aside",{className:(e?"left-0":"-left-full")+" top-0 text-gray-500 p-4 fixed w-full bg-bgGray h-full md:static md:w-auto transition-all",children:[r.jsx("div",{className:"mb-6",children:r.jsx(o,{})}),(0,r.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,r.jsxs)(l(),{href:"/dashboard",className:"/dashboard"===u?s:t,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"/"===u?c:n,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),"Dashboard"]}),(0,r.jsxs)(l(),{href:"/productsList",className:u.includes("/products")?s:t,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"})}),"Products"]}),(0,r.jsxs)(l(),{href:"/categories",className:u.includes("/categories")?s:t,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:u.includes("/categories")?c:n,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),"Categories"]}),(0,r.jsxs)(l(),{href:"/orders",className:u.includes("/orders")?s:t,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),"Orders"]}),(0,r.jsxs)("button",{onClick:h,className:t,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),"Logout"]})]})]})}var d=s(6689);function u({children:e}){let[t,s]=(0,d.useState)(!1),{data:n}=(0,a.useSession)();return n?(0,r.jsxs)("div",{className:"bg-bgGray min-h-screen ",children:[(0,r.jsxs)("div",{className:"md:hidden flex items-center p-4",children:[r.jsx("button",{onClick:()=>s(!0),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:r.jsx("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})}),r.jsx("div",{className:"flex grow justify-center mr-6",children:r.jsx(o,{})})]}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(c,{show:t}),r.jsx("div",{className:"flex-grow p-4",children:e})]})]}):r.jsx("div",{className:"bg-emerald-400 w-screen h-screen flex items-center",children:r.jsx("div",{className:"text-center w-full",children:r.jsx("button",{onClick:()=>(0,a.signIn)("google"),className:"bg-white text-center p-2",children:"Sign in with Google"})})})}},3414:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(997),a=s(1649);function n({Component:e,pageProps:{session:t,...s}}){return r.jsx(a.SessionProvider,{session:t,children:r.jsx(e,{...s})})}s(6764)},5949:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(997),a=s(6859);function n(){return(0,r.jsxs)(a.Html,{lang:"en",children:[r.jsx(a.Head,{}),(0,r.jsxs)("body",{children:[r.jsx(a.Main,{}),r.jsx(a.NextScript,{})]})]})}},3484:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>u});var a=s(997),n=s(1202),l=s(6689),i=s(9648),o=s(4848),c=e([i]);function d({swal:e}){let[t,s]=(0,l.useState)(null),[r,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[u,h]=(0,l.useState)([]),[x,m]=(0,l.useState)([]);function p(){i.default.get("/api/categories").then(e=>{h(e.data)})}async function g(a){if(a.preventDefault(),!r.trim()){e.fire({title:"Error",text:"Category name cannot be empty.",icon:"error"});return}let n={name:r,parentCategory:c,properties:x.map(e=>({name:e.name,values:e.values.split(",")}))};t?(n._id=t._id,await i.default.put("/api/categories",n),s(null)):await i.default.post("/api/categories",n),o(""),d(""),m([]),p()}return(0,a.jsxs)(n.Z,{children:[a.jsx("h1",{children:"Categories"}),a.jsx("label",{children:t?`Edit category ${t.name}`:"Create new category"}),(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",placeholder:"Category name",onChange:e=>o(e.target.value),value:r}),(0,a.jsxs)("select",{onChange:e=>d(e.target.value),value:c,children:[a.jsx("option",{value:"",children:"No parent category"}),u.length>0&&u.map(e=>a.jsx("option",{value:e._id,children:e.name},e._id))]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[a.jsx("label",{className:"flex",children:"Properties"}),a.jsx("button",{onClick:function(){m(e=>[...e,{name:"",values:""}])},type:"button",className:"mt-2 btn-default text-sm mb-2",children:"Add new property"}),x.length>0&&x.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-1 mb-2",children:[a.jsx("input",{type:"text",value:e.name,className:"mb-0",onChange:s=>{var r;return r=s.target.value,void m(s=>{let a=[...s];return a[t]={...e,name:r},a})},placeholder:"property name (example: color)"}),a.jsx("input",{type:"text",className:"mb-0",onChange:s=>{var r;return r=s.target.value,void m(s=>{let a=[...s];return a[t]={...e,values:r},a})},value:e.values,placeholder:"values, comma separated"}),a.jsx("button",{onClick:()=>{m(e=>[...e].filter((e,s)=>s!==t))},type:"button",className:"btn-red",children:"Remove"})]},t))]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[t&&a.jsx("button",{type:"button",onClick:()=>{s(null),o(""),d(""),m([])},className:"btn-default",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary py-1",children:"Save"})]})]}),!t&&(0,a.jsxs)("table",{className:"basic mt-4",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("td",{children:"Category name"}),a.jsx("td",{children:"Parent category"}),a.jsx("td",{})]})}),a.jsx("tbody",{children:u.length>0&&u.map(t=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:t.name}),a.jsx("td",{children:t?.parent?.name}),(0,a.jsxs)("td",{children:[a.jsx("button",{onClick:()=>{s(t),o(t.name),d(t.parent?._id),m(t.properties.map(({name:e,values:t})=>({name:e,values:t.join(",")})))},className:"btn-default mr-1",children:"Edit"}),a.jsx("button",{onClick:()=>(function(t){e.fire({title:"Are you sure?",text:`Do you want to delete ${t.name}?`,showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete!",confirmButtonColor:"#d55",reverseButtons:!0}).then(async e=>{if(e.isConfirmed){let{_id:e}=t;await i.default.delete("/api/categories?_id="+e),p()}})})(t),className:"btn-red",children:"Delete"})]})]},t._id))})]})]})}i=(c.then?(await c)():c)[0];let u=(0,o.withSwal)(({swal:e},t)=>a.jsx(d,{swal:e}));r()}catch(e){r(e)}})},6764:()=>{},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},4848:e=>{"use strict";e.exports=require("react-sweetalert2")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[859,342,664],()=>s(1864));module.exports=r})();